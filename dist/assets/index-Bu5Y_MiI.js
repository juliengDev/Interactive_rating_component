var l=Object.defineProperty;var d=(o,t,e)=>t in o?l(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var s=(o,t,e)=>d(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();class u{constructor(){s(this,"ratingValue",0);s(this,"buttonCount",0);s(this,"formRate");s(this,"ratingList");s(this,"buttonSubmit");s(this,"modalConfirm");s(this,"ratingEl");s(this,"totalEl");this.formRate=document.querySelector(".form-vote"),this.ratingList=document.querySelector(".rating-list"),this.buttonSubmit=document.querySelector(".submit-btn"),this.modalConfirm=document.querySelector(".modal"),this.ratingEl=document.getElementById("rating"),this.totalEl=document.getElementById("total"),this.init()}init(){var t,e;if(this.ratingList){const r=this.ratingList.querySelectorAll(".rating-btn");this.buttonCount=r.length,this.ratingList.addEventListener("click",this.handleRatingClick.bind(this)),this.ratingList.addEventListener("keydown",this.handleKeyDown.bind(this))}else console.error("The element .rating-list was not found in the DOM.");(t=this.buttonSubmit)==null||t.addEventListener("click",this.handleSubmit.bind(this)),(e=this.formRate)==null||e.addEventListener("keydown",this.handleFormKeyDown.bind(this))}handleRatingClick(t){t.preventDefault();const e=t.target;if(e&&e.tagName==="BUTTON"){const r=e;this.setRating(r)}}handleKeyDown(t){if(t.key==="Enter"||t.key===" "){t.preventDefault();const e=t.target;e&&e.tagName==="BUTTON"&&this.setRating(e)}}handleFormKeyDown(t){t.key==="Enter"&&this.ratingValue>0&&(t.preventDefault(),this.submitRating())}setRating(t){this.ratingValue=parseInt(t.textContent||"0",10),this.updateButtonStyles(t)}updateButtonStyles(t){var r;const e=(r=this.ratingList)==null?void 0:r.querySelectorAll(".rating-btn");e==null||e.forEach(i=>{i.classList.remove("selected"),i.setAttribute("aria-pressed","false")}),t.classList.add("selected"),t.setAttribute("aria-pressed","true")}handleSubmit(t){t.preventDefault(),this.submitRating()}submitRating(){var t,e,r,i,n;this.ratingValue>0?(this.ratingEl&&(this.ratingEl.textContent=this.ratingValue.toString()),this.totalEl&&(this.totalEl.textContent=this.buttonCount.toString()),(t=this.formRate)==null||t.classList.add("hidden"),(e=this.formRate)==null||e.setAttribute("aria-hidden","true"),(r=this.modalConfirm)==null||r.classList.remove("hidden"),(i=this.modalConfirm)==null||i.removeAttribute("aria-hidden"),(n=this.modalConfirm)==null||n.focus()):this.showError("Please select a rating before submitting.")}showError(t){var r;const e=document.createElement("p");e.textContent=t,e.setAttribute("role","alert"),e.classList.add("error-message"),(r=this.formRate)==null||r.appendChild(e),setTimeout(()=>{e.remove()},3e3)}}document.addEventListener("DOMContentLoaded",()=>{new u});
//# sourceMappingURL=index-Bu5Y_MiI.js.map
